/*
 Navicat Premium Data Transfer

 Source Server         : fea-chatroom
 Source Server Type    : MongoDB
 Source Server Version : 40010
 Source Host           : 127.0.0.1:27017
 Source Schema         : chatroom

 Target Server Type    : MongoDB
 Target Server Version : 40010
 File Encoding         : 65001

 Date: 09/07/2019 20:02:18
*/


// ----------------------------
// Collection structure for rooms
// ----------------------------
db.getCollection("rooms").drop();
db.createCollection("rooms");

// ----------------------------
// Documents of rooms
// ----------------------------
db.getCollection("rooms").insert([ {
    _id: ObjectId("5d0b60bf1071cc7c0c58ca27"),
    addedTime: ISODate("2019-06-20T10:31:12.455Z"),
    editedTime: ISODate("2019-06-20T10:31:12.455Z"),
    removedTime: null,
    name: "聊天室",
    messagers: [ ],
    messages: [ ],
    __v: NumberInt("0")
} ]);

// ----------------------------
// Collection structure for users
// ----------------------------
db.getCollection("users").drop();
db.createCollection("users");
db.getCollection("users").createIndex({
    "$**": "text"
}, {
    name: "name",
    weights: {
        "$**": NumberInt("1"),
        name: NumberInt("1")
    },
    "default_language": "english",
    "language_override": "language",
    textIndexVersion: NumberInt("3")
});
db.getCollection("users").createIndex({
    platformUid: "hashed"
}, {
    name: "platformUid"
});

// ----------------------------
// Documents of users
// ----------------------------
db.getCollection("users").insert([ {
    _id: ObjectId("5d245877af0fd040c00007d3"),
    url: "user/admin.png",
    name: "admin",
    nickname: "管理员",
    password: "e45a4f1b101e1e609e258f799a5f40fcb0d8f4e4",
    level: 100,
    role: "ADMIN",
    experience: 0,
    platformUid: "admin"
} ]);
db.getCollection("users").insert([ {
    _id: ObjectId("5d246e90af0fd040c00007d4"),
    url: "user/system.png",
    nickname: "系统",
    password: "013c332c2e2da7a025074d5ca903900bbd73ab8f",
    level: 100,
    experience: 0,
    role: "SYSTEM",
    name: "system",
    platformUid: "system"
} ]);
